Bootstrap: docker
From: ubuntu:16.04

%help
  Need help


%labels
  Maintainer Zaccharie Ramzi <zaccharie.ramzi@cea.fr>

%runscript
  echo "Executing command in singularity container using Python3..."
  exec python3 "$@"

%files
  requirements.txt requirements.txt
  study.py study.py
  unet.py unet.py
  data.py data.py

%post
  mkdir /scratch
  mv requirements.txt /scratch/
  mv study.py /scratch/
  mv unet.py /scratch/
  mv data.py /scratch/
  cd /scratch
  apt-get update -y
  apt-get install python3-pip -y
  pip3 install --upgrade pip==9.0.3
  pip3 install -r requirements.txt
  pip3 install tensorflow
